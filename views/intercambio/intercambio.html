<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../shared/css/vars.css">
    <link rel="stylesheet" href="../../shared/css/common.css">
    <link rel="stylesheet" href="intercambio.css">
    <script type="module" src="intercambio.js"></script>
    <script src="https://cdn.ably.com/lib/ably.min-1.js"></script>
    <title>Document</title>
</head>
<body>
    
    <div class="pantalla-intercambio">
    <header class="header-principal">
        <h1>Intercambiar Cartas</h1>
    </header>

    <div class="estado-conexion">
        <div class="indicador-conexion">
            <span class="punto-conexion" id="puntoConexion"></span>
            <span id="estadoConexion">Desconectado</span>
        </div>
        <button onclick="conectarIntercambio()" id="botonConectar" class="boton-conectar">
            Conectar
        </button>
    </div>

    <div id="interfazIntercambio" class="interfaz-intercambio" style="display: none;">
        <div class="jugadores-conectados">
            <div class="jugador">
                <div class="avatar-jugador">👤</div>
                <h3>Tú</h3>
                <p id="miNombre">Jugador 1</p>
            </div>
            <div class="vs-separador">VS</div>
            <div class="jugador">
                <div class="avatar-jugador">👤</div>
                <h3>Oponente</h3>
                <p id="nombreOponente">Esperando...</p>
            </div>
        </div>

        <div class="seccion-intercambio">
            <div class="mis-cartas-seccion">
                <h3>Mis cartas disponibles:</h3>
                <div id="coleccionContainer" class="cartas-scroll-menu"></div>
                <ul id="listaIntercambios"></ul>
            </div>

            <div class="cartas-oponente-seccion">
                <h3>Carta del oponente:</h3>
                <div id="cartasOponente" class="cartas-intercambio">
                    <p class="mensaje-cartas">El oponente no ha seleccionado carta</p>
                </div>
            </div>

            

            <button id="botonIntercambiar" onclick="realizarIntercambio()" class="boton-intercambiar" disabled>
                Intercambiar Cartas
            </button>
        </div>
    </div>

    <nav class="bottom-nav" aria-label="Navegación principal">
        <button class="nav-btn" onclick="window.location.href='../../index.html'">
            <span class="nav-icon" aria-hidden="true">📋</span>
            <span class="nav-text">Índice</span>
        </button>
        <button class="nav-btn" onclick="window.location.href='../sobre/sobre.html'">
            <span class="nav-icon" aria-hidden="true">📦</span>
            <span class="nav-text">Abrir Sobre</span>
        </button>
        <button class="nav-btn active" onclick="window.location.href='intercambio.html'">
            <span class="nav-icon" aria-hidden="true">🔄</span>
            <span class="nav-text">Intercambio</span>
        </button>
    </nav>
</div>
</body>
</html>

